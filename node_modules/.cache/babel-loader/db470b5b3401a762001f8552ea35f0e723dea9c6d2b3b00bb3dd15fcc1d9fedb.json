{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      pswd: '',\n      email: '',\n      emailError: '',\n      passwordError: '',\n      passwordFieldType: 'password'\n    };\n  },\n  methods: {\n    togglePasswordVisibility() {\n      this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\n    },\n    async login() {\n      this.emailError = '';\n      this.passwordError = '';\n      if (!this.email || !this.pswd) {\n        if (!this.email) this.emailError = 'Email is required';\n        if (!this.pswd) this.passwordError = 'Password is required';\n        return;\n      }\n\n      // Email validation\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(this.email)) {\n        this.emailError = 'Invalid email address';\n        return;\n      }\n\n      // Password validation\n      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+}{\":;'?/>.<,])[a-zA-Z\\d!@#$%^&*()_+}{\":;'?/>.<,]{8,}$/;\n      if (!passwordRegex.test(this.pswd)) {\n        this.passwordError = 'Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, special character and one number';\n        return;\n      }\n      try {\n        this.emailError = '';\n        this.passwordError = '';\n        const response = await axios.post(`${this.$store.getters.getUrl}/admin/AdminLogin`, {\n          \"email\": this.email,\n          \"password\": this.pswd\n        });\n        if (response.status === 200) {\n          this.$router.push('/adminpage');\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","pswd","email","emailError","passwordError","passwordFieldType","methods","togglePasswordVisibility","login","emailRegex","test","passwordRegex","response","post","$store","getters","getUrl","status","$router","push","error","console"],"sources":["C:\\Users\\LENOVO\\Documents\\practice\\siya\\newlibrary-main\\newlibrary-main\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <v-main>\r\n    <v-container justify-center>\r\n  <div class=\"mb-4 pb-2 mt-5\">\r\n    <form class=\"form-signin mb-5 pb-4\" @submit.prevent=\"login\">\r\n      <h1 class=\"h3 mb-3 font-weight-normal mt-5\">Please Log In</h1>\r\n      <label for=\"inputuser\" class=\"sr-only\">Email</label>\r\n      <input type=\"email\" id=\"inputuser\" class=\"form-control\" placeholder=\"Email\" v-model=\"email\">\r\n      <p v-if=\"emailError\" class=\"error-message\">{{ emailError }}</p>\r\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n      <div class=\"password-container\">\r\n        <input :type=\"passwordFieldType\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" v-model=\"pswd\">\r\n        <span class=\"password-toggle\" @click=\"togglePasswordVisibility\">\r\n          <v-icon :class=\"passwordFieldType === 'password' ? 'mdi mdi-eye-off' : 'mdi mdi-eye'\"></v-icon>\r\n        </span>\r\n      </div>\r\n      <span v-if=\"passwordError\" class=\"error-message\">{{ passwordError }}</span>\r\n      <div class=\"checkbox mb-3\"></div>\r\n      <button class=\"btn btn-lg buttonstyle btn-block text-white\" type=\"submit\">Log In</button>\r\n      <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n      <p class=\"mt-3\">Are you a new admin?<router-link to=\"/adminregister\">Register</router-link></p>\r\n    </form>\r\n  </div>\r\n  </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      pswd: '',\r\n      email: '',\r\n      emailError: '',\r\n      passwordError: '',\r\n      passwordFieldType: 'password'\r\n    }\r\n  },\r\n  methods: {\r\n    togglePasswordVisibility() {\r\n      this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\r\n    },\r\n    async login() {\r\n      this.emailError = '';\r\n      this.passwordError = '';\r\n      if (!this.email || !this.pswd) {\r\n        if (!this.email) this.emailError = 'Email is required';\r\n        if (!this.pswd) this.passwordError = 'Password is required';\r\n        return;\r\n      }\r\n\r\n      // Email validation\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!emailRegex.test(this.email)) {\r\n        this.emailError = 'Invalid email address';\r\n        return;\r\n      }\r\n\r\n      // Password validation\r\n      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+}{\":;'?/>.<,])[a-zA-Z\\d!@#$%^&*()_+}{\":;'?/>.<,]{8,}$/;\r\n      if (!passwordRegex.test(this.pswd)) {\r\n        this.passwordError = 'Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, special character and one number';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.emailError = '';\r\n        this.passwordError = '';\r\n        const response = await axios.post(`${this.$store.getters.getUrl}/admin/AdminLogin`, {\r\n          \"email\": this.email,\r\n          \"password\": this.pswd,\r\n        });\r\n        if (response.status === 200) {\r\n          this.$router.push('/adminpage');\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.buttonstyle {\r\n  background-color: #303b1b;\r\n}\r\n\r\n.buttonstyle:hover {\r\n  background-color: green;\r\n}\r\n\r\nform.form-signin {\r\n  border-radius: 10px;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  background-color: white;\r\n  padding-top: 20px;\r\n  margin-left: 50px;\r\n  margin-right: 50px;\r\n  /* width: 350px; */\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-size: 14px;\r\n}\r\n\r\n.password-container {\r\n  position: relative;\r\n}\r\n\r\n.password-toggle {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 10px;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n}\r\n\r\n.password-toggle i {\r\n  font-size: 18px;\r\n}\r\n</style>\r\n"],"mappings":";AA4BA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,EAAE;MACdC,aAAa,EAAE,EAAE;MACjBC,iBAAiB,EAAE;IACrB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,wBAAwBA,CAAA,EAAG;MACzB,IAAI,CAACF,iBAAgB,GAAI,IAAI,CAACA,iBAAgB,KAAM,UAAS,GAAI,MAAK,GAAI,UAAU;IACtF,CAAC;IACD,MAAMG,KAAKA,CAAA,EAAG;MACZ,IAAI,CAACL,UAAS,GAAI,EAAE;MACpB,IAAI,CAACC,aAAY,GAAI,EAAE;MACvB,IAAI,CAAC,IAAI,CAACF,KAAI,IAAK,CAAC,IAAI,CAACD,IAAI,EAAE;QAC7B,IAAI,CAAC,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,UAAS,GAAI,mBAAmB;QACtD,IAAI,CAAC,IAAI,CAACF,IAAI,EAAE,IAAI,CAACG,aAAY,GAAI,sBAAsB;QAC3D;MACF;;MAEA;MACA,MAAMK,UAAS,GAAI,4BAA4B;MAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAACR,KAAK,CAAC,EAAE;QAChC,IAAI,CAACC,UAAS,GAAI,uBAAuB;QACzC;MACF;;MAEA;MACA,MAAMQ,aAAY,GAAI,wGAAwG;MAC9H,IAAI,CAACA,aAAa,CAACD,IAAI,CAAC,IAAI,CAACT,IAAI,CAAC,EAAE;QAClC,IAAI,CAACG,aAAY,GAAI,+IAA+I;QACpK;MACF;MAEA,IAAI;QACF,IAAI,CAACD,UAAS,GAAI,EAAE;QACpB,IAAI,CAACC,aAAY,GAAI,EAAE;QACvB,MAAMQ,QAAO,GAAI,MAAMb,KAAK,CAACc,IAAI,CAAE,GAAE,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,MAAO,mBAAkB,EAAE;UAClF,OAAO,EAAE,IAAI,CAACd,KAAK;UACnB,UAAU,EAAE,IAAI,CAACD;QACnB,CAAC,CAAC;QACF,IAAIW,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;QACjC;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}