{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      email: '',\n      std: '',\n      div: '',\n      sub: '',\n      password: '',\n      nameError: '',\n      emailError: '',\n      stdError: '',\n      divError: '',\n      subError: '',\n      passwordError: '',\n      dialog: false,\n      dialog2: false\n    };\n  },\n  methods: {\n    validate() {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      this.emailError = !emailRegex.test(this.email) ? 'Enter a valid email address' : '';\n\n      // Example: validate name\n      this.nameError = this.name.trim() === '' ? 'Name is required' : '';\n\n      // Example: validate std\n      const stdValue = parseInt(this.std);\n      this.stdError = isNaN(stdValue) || stdValue < 0 || stdValue > 12 ? 'Class must be a number between 0 and 12' : '';\n\n      // Example: validate div\n      this.divError = this.div.trim() === '' ? 'Division is required' : '';\n\n      // Example: validate sub\n      this.subError = this.sub.trim() === '' ? 'Subject is required' : '';\n      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/;\n      this.passwordError = !passwordRegex.test(this.password) ? 'Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, and one number' : '';\n\n      // Check if all errors are empty\n      return this.nameError === '' && this.emailError === '' && this.stdError === '' && this.divError === '' && this.subError === '' && this.passwordError === '';\n    },\n    // register() {\n    //   if (this.validate()) {this.dialog2 =true; \n    //  this.dialog = !this.dialog;\n    // \n    //     // Proceed with registration\n    //     // Example: this.$router.push('/register');\n    //   }\n    // },\n    async register() {\n      if (this.validate()) {\n        try {\n          const response = await axios.post(`${this.$store.getters.getUrl}/api/REG`, {\n            \"teacherName\": this.name,\n            \"password\": this.password,\n            \"email\": this.email,\n            \"standard\": this.std,\n            \"division\": this.div,\n            \"subject\": this.sub,\n            \"role\": 'teacher'\n          });\n          if (response.status === 200) {\n            console.log(response.data);\n            this.dialog2 = true;\n            this.dialog = !this.dialog;\n            this.clearForm();\n            // alert('Successfully registered')\n            // this.$router.push('/login');\n          }\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    },\n    clearForm() {\n      this.name = '';\n      this.email = '';\n      this.std = '';\n      this.div = '';\n      this.sub = '';\n      this.password = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","data","name","email","std","div","sub","password","nameError","emailError","stdError","divError","subError","passwordError","dialog","dialog2","methods","validate","emailRegex","test","trim","stdValue","parseInt","isNaN","passwordRegex","register","response","post","$store","getters","getUrl","status","console","log","clearForm","error"],"sources":["C:\\Users\\LENOVO\\Documents\\practice\\siya\\newlibrary-main\\newlibrary-main\\src\\components\\SignupBtn.vue"],"sourcesContent":["<template>\r\n    <v-dialog width=\"450\" v-model=\"dialog\">\r\n        <template v-slot:activator=\"{ props }\">\r\n          <v-btn v-bind=\"props\" text=\"Sign Up\" class=\"btn buttonstyle text-white\"> </v-btn>\r\n        </template>\r\n        <template v-slot:default=\"{ isActive }\" >\r\n          <v-card-actions>\r\n           \r\n            <v-icon\r\n            class=\"mdi mdi-close text-white\"\r\n            @click=\"isActive.value = false\">\r\n          </v-icon>\r\n            \r\n            </v-card-actions>\r\n          <v-card title=\"Welcome To Prathibhatheeram!\" class=\"text-center\">\r\n            <v-card-text>\r\n                <form @submit.prevent=\"register\">\r\n    <div class=\"my-3\">\r\n      <input type=\"text\" class=\"form-control borderstyle\" v-model=\"name\" placeholder=\"Enter name\">\r\n      <span v-if=\"nameError\" class=\"error\">{{ nameError }}</span>\r\n    </div>\r\n    <div class=\"my-3\">\r\n      <input type=\"email\" class=\"form-control borderstyle\" v-model=\"email\" placeholder=\"Enter email\">\r\n      <span v-if=\"emailError\" class=\"error\">{{ emailError }}</span>\r\n    </div>\r\n    <div class=\"my-3\">\r\n      <input type=\"text\" class=\"form-control borderstyle\" v-model=\"std\" placeholder=\"Enter your class\">\r\n      <span v-if=\"stdError\" class=\"error\">{{ stdError }}</span>\r\n    </div>\r\n    <div class=\"my-3\">\r\n      <input type=\"text\" class=\"form-control borderstyle\" v-model=\"div\" placeholder=\"Enter your division\">\r\n      <span v-if=\"divError\" class=\"error\">{{ divError }}</span>\r\n    </div>\r\n    <div class=\"my-3\">\r\n      <input type=\"text\" class=\"form-control borderstyle\" v-model=\"sub\" placeholder=\"Enter your subject\">\r\n      <span v-if=\"subError\" class=\"error\">{{ subError }}</span>\r\n    </div>\r\n    <div class=\"my-3\">\r\n      <input type=\"password\" v-model=\"password\" class=\"form-control borderstyle\" placeholder=\"Password\">\r\n      <span v-if=\"passwordError\" class=\"error\">{{ passwordError }}</span>\r\n    </div>\r\n    <v-btn type=\"submit\" class=\"btn buttonstyle text-white mt-3 mb-4\" color=\"#303b1b\">Sign Up</v-btn>\r\n  </form>\r\n             \r\n            </v-card-text>\r\n           \r\n            </v-card>\r\n           \r\n        </template>\r\n      </v-dialog>\r\n<v-dialog\r\nv-model=\"dialog2\">\r\n<v-card class=\"mx-auto rounded-5\" elevation=\"2\" max-width=\"400\" width=\"100%\" height=\"250\">\r\n    <v-card-title class=\"green-header mx-auto\"><v-icon\r\n      class=\"mb-2 mt-4\"\r\n      color=\"success\"\r\n      icon=\"mdi-check-circle\"\r\n      size=\"100\"\r\n    ></v-icon></v-card-title>\r\n    <v-card-text class=\"text-success text-center\">\r\n      <h2>Successfully Registered</h2>\r\n      <p>Get the app from Play Store</p>\r\n  </v-card-text>\r\n</v-card>\r\n    \r\n</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      email: '',\r\n      std: '',\r\n      div: '',\r\n      sub: '',\r\n      password: '',\r\n      nameError: '',\r\n      emailError: '',\r\n      stdError: '',\r\n      divError: '',\r\n      subError: '',\r\n      passwordError: '',\r\n      dialog: false,\r\n      dialog2: false,\r\n    };\r\n  },\r\n  methods: {\r\n    validate() {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  this.emailError = !emailRegex.test(this.email) ? 'Enter a valid email address' : '';\r\n\r\n  // Example: validate name\r\n  this.nameError = this.name.trim() === '' ? 'Name is required' : '';\r\n\r\n  // Example: validate std\r\n  const stdValue = parseInt(this.std);\r\n  this.stdError = isNaN(stdValue) || stdValue < 0 || stdValue > 12 ? 'Class must be a number between 0 and 12' : '';\r\n\r\n  // Example: validate div\r\n  this.divError = this.div.trim() === '' ? 'Division is required' : '';\r\n\r\n  // Example: validate sub\r\n  this.subError = this.sub.trim() === '' ? 'Subject is required' : '';\r\n\r\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/;\r\n  this.passwordError = !passwordRegex.test(this.password) ?\r\n    'Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, and one number' : '';\r\n\r\n  // Check if all errors are empty\r\n  return (\r\n    this.nameError === '' &&\r\n    this.emailError === '' &&\r\n    this.stdError === '' &&\r\n    this.divError === '' &&\r\n    this.subError === '' &&\r\n    this.passwordError === ''\r\n  );\r\n},\r\n    // register() {\r\n    //   if (this.validate()) {this.dialog2 =true; \r\n          //  this.dialog = !this.dialog;\r\n          // \r\n    //     // Proceed with registration\r\n    //     // Example: this.$router.push('/register');\r\n    //   }\r\n    // },\r\n    async register() {\r\n      if (this.validate()){\r\n      try{\r\n        const response = await axios.post(`${this.$store.getters.getUrl}/api/REG`,{\r\n          \"teacherName\": this.name,\r\n          \"password\": this.password,\r\n          \"email\": this.email,\r\n          \"standard\":this.std,\r\n          \"division\":this.div,\r\n          \"subject\":this.sub,\r\n          \"role\": 'teacher'\r\n        });\r\n        if(response.status === 200) {\r\n          console.log(response.data)\r\n          this.dialog2 =true; \r\n           this.dialog = !this.dialog;\r\n           this.clearForm();\r\n          // alert('Successfully registered')\r\n          // this.$router.push('/login');\r\n        }\r\n      }\r\n      catch(error){\r\nconsole.error(error)\r\n      }\r\n  }\r\n},\r\nclearForm() {\r\n      this.name = '';\r\n      this.email = '';\r\n      this.std = '';\r\n      this.div = '';\r\n      this.sub = '';\r\n      this.password = '';\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.log-in input {\r\n  width: 300px;\r\n  height: 40px;\r\n  padding-left: 20px;\r\n  display: block;\r\n  margin-bottom: 10px; /* Reduced margin between input and error */\r\n  margin-right: auto;\r\n  margin-left: auto;\r\n  border: 1px solid skyblue;\r\n}\r\n.error {\r\n  color: rgb(235, 40, 40);\r\n}\r\n.btn {\r\n  background-color: rgb(117, 184, 211);\r\n}\r\n.btn:hover {\r\n  background: rgb(16, 100, 133);\r\n}\r\n.buttonstyle {\r\n  background-color: #303b1b;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}