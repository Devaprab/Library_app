{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelDynamic as _vModelDynamic, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5faf54d0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"mb-4 pb-2 mt-5\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"h3 mb-3 font-weight-normal mt-5\"\n}, \"Please Log In\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputuser\",\n  class: \"sr-only\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword\",\n  class: \"sr-only\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"password-container\"\n};\nconst _hoisted_7 = [\"type\"];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"error-message\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"checkbox mb-3\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-lg buttonstyle btn-block text-white\",\n  type: \"submit\"\n}, \"Log In\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  key: 2,\n  class: \"error-message\"\n};\nconst _hoisted_12 = {\n  class: \"mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_main = _resolveComponent(\"v-main\");\n  return _openBlock(), _createBlock(_component_v_main, null, {\n    default: _withCtx(() => [_createVNode(_component_v_container, {\n      \"justify-center\": \"\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n        class: \"form-signin mb-5 pb-4\",\n        onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n      }, [_hoisted_2, _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n        type: \"email\",\n        id: \"inputuser\",\n        class: \"form-control\",\n        placeholder: \"Email\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event)\n      }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), $data.emailError ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString($data.emailError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n        type: $data.passwordFieldType,\n        id: \"inputPassword\",\n        class: \"form-control\",\n        placeholder: \"Password\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.pswd = $event)\n      }, null, 8 /* PROPS */, _hoisted_7), [[_vModelDynamic, $data.pswd]]), _createElementVNode(\"span\", {\n        class: \"password-toggle\",\n        onClick: _cache[2] || (_cache[2] = (...args) => $options.togglePasswordVisibility && $options.togglePasswordVisibility(...args))\n      }, [_createVNode(_component_v_icon, {\n        class: _normalizeClass($data.passwordFieldType === 'password' ? 'mdi mdi-eye-off' : 'mdi mdi-eye')\n      }, null, 8 /* PROPS */, [\"class\"])])]), $data.passwordError ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString($data.passwordError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_9, _hoisted_10, _ctx.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString(_ctx.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", _hoisted_12, [_createTextVNode(\"Are you a new admin?\"), _createVNode(_component_router_link, {\n        to: \"/adminregister\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Register\")]),\n        _: 1 /* STABLE */\n      })])], 32 /* NEED_HYDRATION */)])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","for","key","type","_createBlock","_component_v_main","default","_withCtx","_createVNode","_component_v_container","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_2","_hoisted_3","id","placeholder","$event","$data","email","emailError","_createElementBlock","_hoisted_4","_toDisplayString","_createCommentVNode","_hoisted_5","_hoisted_6","passwordFieldType","pswd","_hoisted_7","onClick","togglePasswordVisibility","_component_v_icon","_normalizeClass","passwordError","_hoisted_8","_hoisted_9","_hoisted_10","_ctx","errorMessage","_hoisted_11","_hoisted_12","_createTextVNode","_component_router_link","to","_"],"sources":["C:\\Users\\LENOVO\\Documents\\practice\\siya\\newlibrary-main\\newlibrary-main\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <v-main>\r\n    <v-container justify-center>\r\n  <div class=\"mb-4 pb-2 mt-5\">\r\n    <form class=\"form-signin mb-5 pb-4\" @submit.prevent=\"login\">\r\n      <h1 class=\"h3 mb-3 font-weight-normal mt-5\">Please Log In</h1>\r\n      <label for=\"inputuser\" class=\"sr-only\">Email</label>\r\n      <input type=\"email\" id=\"inputuser\" class=\"form-control\" placeholder=\"Email\" v-model=\"email\">\r\n      <p v-if=\"emailError\" class=\"error-message\">{{ emailError }}</p>\r\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n      <div class=\"password-container\">\r\n        <input :type=\"passwordFieldType\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" v-model=\"pswd\">\r\n        <span class=\"password-toggle\" @click=\"togglePasswordVisibility\">\r\n          <v-icon :class=\"passwordFieldType === 'password' ? 'mdi mdi-eye-off' : 'mdi mdi-eye'\"></v-icon>\r\n        </span>\r\n      </div>\r\n      <span v-if=\"passwordError\" class=\"error-message\">{{ passwordError }}</span>\r\n      <div class=\"checkbox mb-3\"></div>\r\n      <button class=\"btn btn-lg buttonstyle btn-block text-white\" type=\"submit\">Log In</button>\r\n      <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n      <p class=\"mt-3\">Are you a new admin?<router-link to=\"/adminregister\">Register</router-link></p>\r\n    </form>\r\n  </div>\r\n  </v-container>\r\n  </v-main>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      pswd: '',\r\n      email: '',\r\n      emailError: '',\r\n      passwordError: '',\r\n      passwordFieldType: 'password'\r\n    }\r\n  },\r\n  methods: {\r\n    togglePasswordVisibility() {\r\n      this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\r\n    },\r\n    async login() {\r\n      this.emailError = '';\r\n      this.passwordError = '';\r\n      if (!this.email || !this.pswd) {\r\n        if (!this.email) this.emailError = 'Email is required';\r\n        if (!this.pswd) this.passwordError = 'Password is required';\r\n        return;\r\n      }\r\n\r\n      // Email validation\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!emailRegex.test(this.email)) {\r\n        this.emailError = 'Invalid email address';\r\n        return;\r\n      }\r\n\r\n      // Password validation\r\n      const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+}{\":;'?/>.<,])[a-zA-Z\\d!@#$%^&*()_+}{\":;'?/>.<,]{8,}$/;\r\n      if (!passwordRegex.test(this.pswd)) {\r\n        this.passwordError = 'Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, special character and one number';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.emailError = '';\r\n        this.passwordError = '';\r\n        const response = await axios.post(`${this.$store.getters.getUrl}/admin/AdminLogin`, {\r\n          \"email\": this.email,\r\n          \"password\": this.pswd,\r\n        });\r\n        if (response.status === 200) {\r\n          this.$router.push('/adminpage');\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.buttonstyle {\r\n  background-color: #303b1b;\r\n}\r\n\r\n.buttonstyle:hover {\r\n  background-color: green;\r\n}\r\n\r\nform.form-signin {\r\n  border-radius: 10px;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  background-color: white;\r\n  padding-top: 20px;\r\n  width: 350px;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-size: 14px;\r\n}\r\n\r\n.password-container {\r\n  position: relative;\r\n}\r\n\r\n.password-toggle {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 10px;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n}\r\n\r\n.password-toggle i {\r\n  font-size: 18px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}